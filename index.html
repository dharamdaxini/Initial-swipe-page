<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Alchemist V81.35</title>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Outfit:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg: #000; 
            --card: #0a0a0a; 
            --gold: #ffd600; 
            --border: #1a1a1a;
            --serif: 'Libre Baskerville', serif; 
            --ui: 'Outfit', sans-serif;
            --code: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body { 
            margin: 0; 
            height: 100vh; 
            background: var(--bg); 
            color: #fff; 
            font-family: var(--ui); 
            overflow: hidden; 
            touch-action: none; 
        }

        /* V81.35 HEADER - LOGIC MODE */
        #header { width: 92%; margin: 35px auto 0; z-index: 100; position: relative; }
        .header-meta { 
            display: flex; 
            justify-content: space-between; 
            font-family: var(--code); 
            font-size: 0.7rem; 
            color: #333; 
            letter-spacing: 3px; 
            text-transform: uppercase; 
        }

        /* THE COGNITIVE STACK */
        #stack { 
            position: relative; 
            width: 92%; 
            max-width: 420px; 
            height: 72vh; 
            margin: 30px auto 0; 
            perspective: 2000px; 
        }

        .card { 
            position: absolute; 
            width: 100%; 
            height: 100%; 
            background: var(--card); 
            border-radius: 40px; 
            border: 1px solid var(--border); 
            padding: 50px 35px; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            z-index: 5; 
            box-shadow: 0 40px 100px rgba(0,0,0,1);
            transition: filter 0.6s cubic-bezier(0.19, 1, 0.22, 1), 
                        opacity 0.6s ease, 
                        transform 0.5s cubic-bezier(0.19, 1, 0.22, 1); 
        }

        /* THE COGNITIVE RIFT (HEAVY BLUR) */
        .card.study-active { 
            filter: blur(35px) brightness(0.1); 
            opacity: 0.3; 
            transform: scale(0.85) translateY(60px) rotateX(-10deg); 
            pointer-events: none; 
        }

        .card-q { 
            font-family: var(--serif); 
            font-size: 1.8rem; 
            line-height: 1.4; 
            font-weight: 700; 
            text-align: center; 
            color: #f0f0f0; 
        }

        /* THINKING DRAWER */
        .study-drawer { 
            position: absolute; 
            inset: 0; 
            padding: 40px 25px; 
            z-index: 10; 
            display: flex; 
            flex-direction: column; 
            opacity: 0; 
            visibility: hidden; 
            transform: translateY(40px) scale(0.92); 
            transition: all 0.7s cubic-bezier(0.19, 1, 0.22, 1); 
        }

        .study-drawer.active { 
            opacity: 1; 
            visibility: visible; 
            transform: translateY(0) scale(1); 
        }

        .drawer-label { 
            font-family: var(--code); 
            font-size: 0.65rem; 
            color: #444; 
            letter-spacing: 5px; 
            margin-bottom: 30px; 
            text-transform: uppercase;
        }

        .bullet-item { 
            font-size: 1.15rem; 
            line-height: 1.7; 
            color: #ccc; 
            font-family: var(--serif); 
            margin-bottom: 25px; 
            padding-left: 30px; 
            position: relative; 
        }

        .bullet-item::before { 
            content: ""; 
            position: absolute; 
            left: 0; 
            top: 12px; 
            width: 7px; 
            height: 7px; 
            background: var(--gold); 
            border-radius: 50%; 
            box-shadow: 0 0 15px var(--gold); 
        }

        .judgement-text { 
            font-size: 1.5rem; 
            line-height: 1.4; 
            color: var(--gold); 
            font-family: var(--serif); 
            font-style: italic; 
            border-top: 1px solid #111; 
            padding-top: 40px; 
            margin-top: 20px; 
            text-shadow: 0 0 20px rgba(255,214,0,0.1);
        }

        #loader { 
            position: fixed; 
            inset: 0; 
            background: #000; 
            z-index: 5000; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-family: var(--code);
            font-weight: 900; 
            color: var(--gold); 
            letter-spacing: 10px; 
        }
    </style>
</head>
<body>

<div id="loader">V81.35 ONLINE</div>

<div id="header">
    <div class="header-meta"><span>COGNITIVE RIFT</span><span>V81.35</span></div>
</div>

<div id="stack">
    <div id="study-drawer" class="study-drawer">
        <div class="drawer-label">Thinking Engine</div>
        <div id="bullet-mount"></div>
        <div id="judgement-text" class="judgement-text"></div>
    </div>
</div>

<script>
    var DB = [
        { "q": "Signs of ΔH and ΔS for spontaneity at all temps?", "b": ["ΔH < 0 (Exothermic)", "ΔS > 0 (Increased Disorder)"], "j": "Nature favors energy release and chaos." },
        { "q": "Predict spontaneity: ΔH = -120 kJ, ΔS = -150 J/K at 298 K.", "b": ["ΔG = ΔH - TΔS", "Negative ΔG = Spontaneous"], "j": "Exothermic release can overcome entropy loss." }
    ];

    var POOL = DB.slice();
    var sy = 0, isLocked = false;

    function init() { 
        setTimeout(function() { 
            var l = document.getElementById('loader');
            if(l) l.remove(); 
            render(); 
        }, 1200); 
    }

    function render() {
        var s = document.getElementById('stack');
        var existing = s.querySelector('.card');
        if(existing) existing.remove();
        
        if(!POOL.length) { 
            s.innerHTML = '<div class="card"><div class="card-q" style="color:#ffd600">THINKING COMPLETE</div></div>'; 
            return; 
        }
        
        var d = POOL[0];
        var card = document.createElement('div');
        card.className = "card";
        card.innerHTML = '<div class="card-q">' + d.q + '</div>';
        s.appendChild(card);
        
        document.getElementById('bullet-mount').innerHTML = d.b.map(function(i) { 
            return '<div class="bullet-item">' + i + '</div>'; 
        }).join('');
        
        document.getElementById('judgement-text').innerText = d.j;
        document.getElementById('study-drawer').classList.remove('active');
        isLocked = false;
        
        bindPhysics(card);
    }

    function bindPhysics(el) {
        el.ontouchstart = function(e) { sy = e.touches[0].clientY; el.style.transition = "none"; };
        el.ontouchmove = function(e) {
            var dy = e.touches[0].clientY - sy;
            if(!isLocked && dy > 130) { 
                isLocked = true;
                document.getElementById('study-drawer').classList.add('active');
                el.classList.add('study-active');
            }
            if(!isLocked && dy > 0) {
                el.style.transform = "translateY(" + (dy * 0.25) + "px) rotate(" + (dy/75) + "deg)";
            }
        };
        el.ontouchend = function(e) {
            var dy = e.changedTouches[0].clientY - sy;
            if(isLocked && dy < -70) { 
                el.style.transition = "transform 0.5s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.5s";
                el.style.transform = "translateY(-800px) scale(1.1)";
                el.style.opacity = "0";
                setTimeout(function() { POOL.shift(); render(); }, 400);
            } else {
                el.style.transition = "transform 0.5s cubic-bezier(0.19, 1, 0.22, 1)";
                el.style.transform = "translateY(0) rotate(0deg) scale(1)";
            }
        };
    }
    window.onload = init;
</script>
</body>
</html>
